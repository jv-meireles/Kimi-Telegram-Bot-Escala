# Render.yaml - Configuracao para Deploy no Render.com
# Este arquivo configura automaticamente o bot para rodar 24h online

services:
  # Servico do Bot Telegram
  - type: worker
    name: bot-escala-militar
    runtime: python
    # Forca o uso do Python 3.11 (mais estavel)
    buildCommand: |
      pip install --upgrade pip setuptools wheel
      pip install -r requirements.txt
    startCommand: "python bot.py"
    # Plano gratuito: o bot dorme apos 15 min de inatividade
    # Para 24h real, precisa do plano pago ($7/mes)
    plan: free
    
    # Variaveis de ambiente (serao configuradas no painel do Render)
    envVars:
      # ATENCAO: Estas variaveis DEVEM ser configuradas no painel do Render!
      # NAO coloque valores reais aqui por seguranca
      - key: BOT_TOKEN
        sync: false  # sync: false significa que voce configura manualmente
        
      - key: CANAL_ESCALA_ID
        sync: false

  # (Opcional) Servico Web para manter o bot "acordado" no plano gratuito
  # Cria uma pagina simples que pinga o bot
  - type: web
    name: bot-escala-militar-web
    runtime: python
    buildCommand: |
      pip install --upgrade pip setuptools wheel
      pip install -r requirements.txt
    startCommand: "python web_server.py"
    plan: free
